(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[300],{8188:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/category/[id]",function(){return r(4718)}])},6050:function(n,e,r){"use strict";var t=r(5893),i=r(5221),a=r(1664),c=r.n(a),o=r(8453),s=r.n(o);e.Z=function(n){var e=n.product;return(0,t.jsx)(c(),{href:"/product/".concat(e.id),children:(0,t.jsxs)("a",{className:s().card,children:[(0,t.jsx)("div",{className:s().image,children:(0,t.jsx)("img",{src:e.image.url,alt:"product image"})}),(0,t.jsxs)("div",{className:s().info,children:[e.quantity<1&&(0,t.jsx)("span",{className:s().nostock,children:"NO STOCK"}),(0,t.jsx)("div",{className:s().flex,children:e.isOnSale?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h3",{className:s().sale,children:(0,i.ED)(e.price)}),(0,t.jsx)("h3",{className:s().oldprice,children:(0,i.ED)(e.listPrice)}),(0,t.jsxs)("span",{className:s().save,children:["Save ",(0,i.iJ)(e.listPrice,e.price),"%"]})]}):(0,t.jsx)("h3",{children:(0,i.ED)(e.price)})}),(0,t.jsx)("p",{children:e.title})]})]})})}},2459:function(n,e,r){"use strict";var t=r(5893),i=r(6170),a=r.n(i);e.Z=function(){return(0,t.jsxs)("div",{className:a().wrapper,children:[(0,t.jsx)("div",{className:a().loading}),(0,t.jsx)("p",{children:"Loading"})]})}},3287:function(n,e,r){"use strict";var t,i=r(5893),a=r(833),c=r.n(a);!function(n){n.title_ASC="title_ASC",n.price_ASC="price_ASC",n.price_DESC="price_DESC"}(t||(t={}));e.Z=function(n){var e=n.setOrderBy,r=function(n){var r=Number(n.target.value);e(Object.values(t)[r])};return(0,i.jsxs)("div",{className:c().container,children:[(0,i.jsx)("h5",{children:"Sort by:"}),(0,i.jsxs)("div",{className:c().wrapper,children:[(0,i.jsxs)("label",{className:c().orderby,children:[(0,i.jsx)("input",{type:"radio",name:"orderBy",onChange:r,value:0,defaultChecked:!0}),(0,i.jsx)("span",{children:"Featured"})]}),(0,i.jsxs)("label",{className:c().orderby,children:[(0,i.jsx)("input",{type:"radio",name:"orderBy",onChange:r,value:1}),(0,i.jsx)("span",{children:"Lowest Price"})]}),(0,i.jsxs)("label",{className:c().orderby,children:[(0,i.jsx)("input",{type:"radio",name:"orderBy",onChange:r,value:2}),(0,i.jsx)("span",{children:"Highest Price"})]})]})]})}},9149:function(n,e,r){"use strict";var t=r(5893),i=r(3259),a=r.n(i);e.Z=function(n){var e=n.setPage,r=n.total,i=Math.ceil(r/10),c=function(n){e(Number(n.currentTarget.value))};return(0,t.jsx)("div",{className:a().pagination,children:function(){for(var n=[],e=0;e<i;e++)n.push((0,t.jsx)("button",{onClick:c,value:e,children:e+1},e));return n}()})}},4718:function(n,e,r){"use strict";r.r(e),r.d(e,{__N_SSP:function(){return O},default:function(){return N}});var t=r(5893),i=r(7294),a=r(5859),c=r(7401),o=r(9008),s=r.n(o),u=r(6050),l=r(1298),d=r.n(l);function f(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}function p(n){return function(n){if(Array.isArray(n))return f(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,e){if(!n)return;if("string"===typeof n)return f(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(n,e)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y,h=function(n){var e=n.id,r=n.brands,a=n.setFilterOpts,c=function(n){var e=n.target,r=e.value;e.checked?u.current.push(r):u.current=u.current.filter((function(n){return n!==r}))},o=(0,i.useRef)(null),s=(0,i.useRef)(null),u=(0,i.useRef)([]),l=(0,i.useRef)(0),f=(0,i.useRef)(!1),y=p(r).sort();return(0,t.jsxs)("form",{className:d().form,onSubmit:function(n){var t,i;n.preventDefault(),a({id:e,brands:u.current.length?u.current:r,minPrice:Number(null===o||void 0===o||null===(t=o.current)||void 0===t?void 0:t.value)||0,maxPrice:Number(null===s||void 0===s||null===(i=s.current)||void 0===i?void 0:i.value)||5e5,quantity:l.current,isSale:f.current})},children:[(0,t.jsx)("h5",{children:"Brands"}),(0,t.jsx)("div",{className:"".concat(d().checkbox," ").concat(d().filter),children:y.map((function(n){return(0,t.jsxs)("label",{children:[(0,t.jsx)("input",{type:"checkbox",value:n,onChange:c}),n]},n)}))}),(0,t.jsx)("h5",{children:"Price Range"}),(0,t.jsxs)("div",{className:d().price,children:[(0,t.jsxs)("span",{className:d().input,children:[(0,t.jsx)("label",{htmlFor:"min",children:"Min"}),(0,t.jsx)("input",{type:"number",id:"min",min:0,max:5e5,ref:o})]}),(0,t.jsxs)("span",{className:d().input,children:[(0,t.jsx)("label",{htmlFor:"max",children:"Max"}),(0,t.jsx)("input",{type:"number",id:"max",min:0,max:5e5,ref:s})]})]}),(0,t.jsx)("h5",{children:"Other"}),(0,t.jsxs)("div",{className:"".concat(d().checkbox," ").concat(d().filter),children:[(0,t.jsxs)("label",{children:[(0,t.jsx)("input",{type:"checkbox",name:"stock",onChange:function(n){l.current=n.target.checked?1:0}}),"In Stock"]}),(0,t.jsxs)("label",{children:[(0,t.jsx)("input",{type:"checkbox",name:"sale",onChange:function(n){f.current=n.target.checked}}),"On Sale"]})]}),(0,t.jsx)("button",{type:"submit",children:"Apply"})]})},m=r(2459),_=r(3287),g=r(9149),b=r(9154),x=r.n(b);function v(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}function j(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function S(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})))),t.forEach((function(e){j(n,e,r[e])}))}return n}function C(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var r=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var t,i,a=[],c=!0,o=!1;try{for(r=r.call(n);!(c=(t=r.next()).done)&&(a.push(t.value),!e||a.length!==e);c=!0);}catch(s){o=!0,i=s}finally{try{c||null==r.return||r.return()}finally{if(o)throw i}}return a}}(n,e)||function(n,e){if(!n)return;if("string"===typeof n)return v(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(n){n.title_ASC="title_ASC",n.price_ASC="price_ASC",n.price_DESC="price_DESC"}(y||(y={}));var O=!0,N=function(n){var e=n.category,r=n.total,o=(0,i.useState)(e.products),l=o[0],d=o[1],f=(0,i.useState)(!1),p=f[0],b=f[1],v=(0,i.useState)(!1),j=v[0],O=v[1],N=(0,i.useState)(0),P=N[0],$=N[1],k=(0,i.useState)(r),w=k[0],A=k[1],I=(0,i.useState)(y.title_ASC),B=I[0],q=I[1],E=(0,i.useState)({id:e.id,brands:e.brands,minPrice:0,maxPrice:5e3,quantity:0,isSale:!1,orderBy:B,skip:10*P}),F=E[0],D=E[1],M=C((0,a.t)(c.u3,{variables:F,fetchPolicy:"no-cache",notifyOnNetworkStatusChange:!0,onCompleted:function(n){n.productsConnection.aggregate.count<=10&&$(0),A(n.productsConnection.aggregate.count),d(n.products),b(!1)}}),2),R=M[0],T=(M[1].data,(0,i.useCallback)((function(){b(!0),j&&(document.body.style.overflow="unset",O(!1)),R({variables:S({},F,{orderBy:B,skip:10*P})})}),[B,F,P]));return(0,i.useEffect)((function(){T()}),[T]),(0,t.jsxs)("section",{children:[(0,t.jsx)(s(),{children:(0,t.jsxs)("title",{children:["Tech Store | ",e.name]})}),(0,t.jsxs)("div",{className:x().title,children:[(0,t.jsx)("h1",{children:e.name}),(0,t.jsx)("button",{className:x().filterbtn,onClick:function(){document.body.style.overflow=j?"visible":"hidden",O(!j)},children:j?"Close":"Filter"})]}),(0,t.jsxs)("div",{className:x().flex,children:[(0,t.jsx)("div",{className:"".concat(x().filter," ").concat(j?x().open:x().close),children:(0,t.jsx)(h,{id:e.id,brands:e.brands,setFilterOpts:D})}),(0,t.jsxs)("div",{className:x().products,children:[(0,t.jsx)(_.Z,{setOrderBy:q}),p?(0,t.jsx)(m.Z,{}):l.length>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:x().grid,children:l.map((function(n){return(0,t.jsx)(u.Z,{product:n},n.id)}))}),(0,t.jsx)(g.Z,{setPage:$,total:w})]}):(0,t.jsx)("p",{children:"No results."})]})]})]})}},7401:function(n,e,r){"use strict";r.d(e,{to:function(){return p},u3:function(){return f}});var t=r(1621);function i(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function a(){var n=i(["\n  fragment ProductCard on Product {\n    brand\n    id\n    image {\n      url\n    }\n    isOnSale\n    listPrice\n    price\n    quantity\n    title\n  }\n"]);return a=function(){return n},n}function c(){var n=i(["\n  ","\n  query GetCategories($skip: Int = 0) {\n    categories(orderBy: name_ASC) {\n      icon {\n        url\n      }\n      id\n      name\n    }\n    popular: products(where: { isOnSale: false }, first: 6, skip: $skip) {\n      ...ProductCard\n    }\n    deals: products(where: { isOnSale: true }, first: 6, skip: $skip) {\n      ...ProductCard\n    }\n  }\n"]);return c=function(){return n},n}function o(){var n=i(["\n  ",'\n  query GetCategory($id: ID = "", $catId: String! = "") {\n    category(where: { id: $id }) {\n      id\n      name\n      brands\n      products(first: 10) {\n        ...ProductCard\n      }\n    }\n    productsConnection(where: { categoryId: $catId }) {\n      aggregate {\n        count\n      }\n    }\n  }\n']);return o=function(){return n},n}function s(){var n=i(["\n  ",'\n  query GetCategoryFiltered(\n    $id: String! = ""\n    $brands: [String!] = []\n    $minPrice: Float = 0\n    $maxPrice: Float = 0\n    $quantity: Int = 0\n    $isSale: Boolean = false\n    $orderBy: ProductOrderByInput\n    $skip: Int = 0\n  ) {\n    products(\n      where: {\n        categoryId: $id\n        brand_in: $brands\n        AND: [\n          { quantity_gte: $quantity }\n          { OR: [{ isOnSale: $isSale }, { isOnSale_not: false }] }\n          { price_gte: $minPrice, price_lte: $maxPrice }\n        ]\n      }\n      orderBy: $orderBy\n      first: 10\n      skip: $skip\n    ) {\n      ...ProductCard\n    }\n    productsConnection(\n      where: {\n        categoryId: $id\n        brand_in: $brands\n        AND: [\n          { quantity_gte: $quantity }\n          { OR: [{ isOnSale: $isSale }, { isOnSale_not: false }] }\n          { price_gte: $minPrice, price_lte: $maxPrice }\n        ]\n      }\n    ) {\n      aggregate {\n        count\n      }\n    }\n  }\n']);return s=function(){return n},n}function u(){var n=i(["\n  ",'\n  query GetProductByID($id: ID = "") {\n    product(where: { id: $id }) {\n      about {\n        html\n      }\n      brand\n      category {\n        ... on Category {\n          id\n          name\n          products(where: { NOT: { id: $id } }, first: 4) {\n            ...ProductCard\n          }\n        }\n      }\n      description\n      id\n      image {\n        url\n      }\n      isOnSale\n      listPrice\n      price\n      quantity\n      sellers {\n        id\n        isOfficial\n        name\n      }\n      title\n    }\n  }\n']);return u=function(){return n},n}function l(){var n=i(["\n  ",'\n  query GetSearch(\n    $query: String = ""\n    $orderBy: ProductOrderByInput\n    $skip: Int = 0\n  ) {\n    products(\n      where: { _search: $query }\n      orderBy: $orderBy\n      first: 10\n      skip: $skip\n    ) {\n      ...ProductCard\n    }\n    productsConnection(where: { _search: $query }, first: 10, skip: $skip) {\n      aggregate {\n        count\n      }\n    }\n  }\n']);return l=function(){return n},n}var d=(0,t.Ps)(a()),f=((0,t.Ps)(c(),d),(0,t.Ps)(o(),d),(0,t.Ps)(s(),d)),p=((0,t.Ps)(u(),d),(0,t.Ps)(l(),d))},5221:function(n,e,r){"use strict";function t(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}function i(n){return function(n){if(Array.isArray(n))return t(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,e){if(!n)return;if("string"===typeof n)return t(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(n,e)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.d(e,{ED:function(){return a},Xq:function(){return o},h2:function(){return s},iJ:function(){return c},xu:function(){return u}});var a=function(n){return Intl.NumberFormat(void 0,{style:"currency",currency:"EUR"}).format(n)},c=function(n,e){return Math.round(100*Math.abs((e-n)/n))},o=function(n){var e=JSON.parse(localStorage.getItem("cart")||"[]"),r=e.findIndex((function(e){return e.product.id===n.product.id}));-1!==r?e[r].quantity+=n.quantity:e=i(e).concat([n]),localStorage.setItem("cart",JSON.stringify(e))},s=function(n){var e=JSON.parse(localStorage.getItem("cart")||"[]").filter((function(e){return e.product.id!==n}));localStorage.setItem("cart",JSON.stringify(e))},u=function(n,e){var r=JSON.parse(localStorage.getItem("cart")||"[]"),t=r.findIndex((function(e){return e.product.id===n}));-1!==t&&(r[t].quantity=e,localStorage.setItem("cart",JSON.stringify(r)))}},9154:function(n){n.exports={title:"Category_title___In8f",flex:"Category_flex__jfp9A",products:"Category_products__uiuc_",grid:"Category_grid__wukdY",filterbtn:"Category_filterbtn__Q0M7l",filter:"Category_filter__g_Ieg",open:"Category_open__Ms0ER",close:"Category_close__AbBhS"}},8453:function(n){n.exports={card:"Card_card__xuvEK",image:"Card_image__ofF0E",info:"Card_info__ofjfT",flex:"Card_flex__OcFZ3",sale:"Card_sale__ODjp4",oldprice:"Card_oldprice__PRbPp",save:"Card_save__UXVQg",nostock:"Card_nostock__2zLWb"}},1298:function(n){n.exports={form:"Filter_form__QX05Z",checkbox:"Filter_checkbox__Y59xo",price:"Filter_price__BB3o2",filter:"Filter_filter__5qze5",input:"Filter_input__HluLM"}},6170:function(n){n.exports={wrapper:"Loading_wrapper__LkgBA",loading:"Loading_loading__tIhnL","lds-dual-ring":"Loading_lds-dual-ring__3AUy_"}},833:function(n){n.exports={container:"OrderBy_container__yliX6",wrapper:"OrderBy_wrapper__xEDT4",orderby:"OrderBy_orderby__pYu9S"}},3259:function(n){n.exports={pagination:"Pagination_pagination__VVeVj"}}},function(n){n.O(0,[241,774,888,179],(function(){return e=8188,n(n.s=e);var e}));var e=n.O();_N_E=e}]);