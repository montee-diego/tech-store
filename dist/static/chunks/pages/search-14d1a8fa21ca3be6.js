(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{5243:function(n,r,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return e(6087)}])},6050:function(n,r,e){"use strict";var t=e(5893),i=e(5221),a=e(1664),c=e.n(a),o=e(8453),s=e.n(o);r.Z=function(n){var r=n.product;return(0,t.jsx)(c(),{href:"/product/".concat(r.id),children:(0,t.jsxs)("a",{className:s().card,children:[(0,t.jsx)("div",{className:s().image,children:(0,t.jsx)("img",{src:r.image.url,alt:"product image"})}),(0,t.jsxs)("div",{className:s().info,children:[r.quantity<1&&(0,t.jsx)("span",{className:s().nostock,children:"NO STOCK"}),(0,t.jsx)("div",{className:s().flex,children:r.isOnSale?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h3",{className:s().sale,children:(0,i.ED)(r.price)}),(0,t.jsx)("h3",{className:s().oldprice,children:(0,i.ED)(r.listPrice)}),(0,t.jsxs)("span",{className:s().save,children:["Save ",(0,i.iJ)(r.listPrice,r.price),"%"]})]}):(0,t.jsx)("h3",{children:(0,i.ED)(r.price)})}),(0,t.jsx)("p",{children:r.title})]})]})})}},2459:function(n,r,e){"use strict";var t=e(5893),i=e(6170),a=e.n(i);r.Z=function(){return(0,t.jsxs)("div",{className:a().wrapper,children:[(0,t.jsx)("div",{className:a().loading}),(0,t.jsx)("p",{children:"Loading"})]})}},3287:function(n,r,e){"use strict";var t,i=e(5893),a=e(833),c=e.n(a);!function(n){n.title_ASC="title_ASC",n.price_ASC="price_ASC",n.price_DESC="price_DESC"}(t||(t={}));r.Z=function(n){var r=n.setOrderBy,e=function(n){var e=Number(n.target.value);r(Object.values(t)[e])};return(0,i.jsxs)("div",{className:c().container,children:[(0,i.jsx)("h5",{children:"Sort by:"}),(0,i.jsxs)("div",{className:c().wrapper,children:[(0,i.jsxs)("label",{className:c().orderby,children:[(0,i.jsx)("input",{type:"radio",name:"orderBy",onChange:e,value:0,defaultChecked:!0}),(0,i.jsx)("span",{children:"Featured"})]}),(0,i.jsxs)("label",{className:c().orderby,children:[(0,i.jsx)("input",{type:"radio",name:"orderBy",onChange:e,value:1}),(0,i.jsx)("span",{children:"Lowest Price"})]}),(0,i.jsxs)("label",{className:c().orderby,children:[(0,i.jsx)("input",{type:"radio",name:"orderBy",onChange:e,value:2}),(0,i.jsx)("span",{children:"Highest Price"})]})]})]})}},9149:function(n,r,e){"use strict";var t=e(5893),i=e(3259),a=e.n(i);r.Z=function(n){var r=n.setPage,e=n.total,i=Math.ceil(e/10),c=function(n){r(Number(n.currentTarget.value))};return(0,t.jsx)("div",{className:a().pagination,children:function(){for(var n=[],r=0;r<i;r++)n.push((0,t.jsx)("button",{onClick:c,value:r,children:r+1},r));return n}()})}},6087:function(n,r,e){"use strict";e.r(r),e.d(r,{__N_SSP:function(){return m}});var t,i=e(5893),a=e(7294),c=e(5859),o=e(7401),s=e(9008),u=e.n(s),l=e(6050),d=e(2459),f=e(3287),p=e(9149),y=e(554),h=e.n(y);function _(n,r){(null==r||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}function g(n,r){return function(n){if(Array.isArray(n))return n}(n)||function(n,r){var e=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var t,i,a=[],c=!0,o=!1;try{for(e=e.call(n);!(c=(t=e.next()).done)&&(a.push(t.value),!r||a.length!==r);c=!0);}catch(s){o=!0,i=s}finally{try{c||null==e.return||e.return()}finally{if(o)throw i}}return a}}(n,r)||function(n,r){if(!n)return;if("string"===typeof n)return _(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return _(n,r)}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(n){n.title_ASC="title_ASC",n.price_ASC="price_ASC",n.price_DESC="price_DESC"}(t||(t={}));var m=!0;r.default=function(n){var r=n.results,e=n.query,s=n.total,y=(0,a.useState)(r),_=y[0],m=y[1],S=(0,a.useState)(!1),v=S[0],x=S[1],j=(0,a.useState)(t.title_ASC),b=j[0],C=j[1],$=(0,a.useState)(0),O=$[0],P=$[1],N=g((0,c.t)(o.to,{variables:{query:e,orderBy:b,skip:10*O},fetchPolicy:"no-cache",notifyOnNetworkStatusChange:!0,onCompleted:function(n){m(n.products),x(!1)}}),2),w=N[0],I=(N[1].data,(0,a.useCallback)((function(){x(!0),w()}),[b,O]));return(0,a.useEffect)((function(){I()}),[I]),(0,i.jsxs)("section",{children:[(0,i.jsx)(u(),{children:(0,i.jsxs)("title",{children:["Tech Store | Search: ",e]})}),(0,i.jsxs)("h1",{children:['Search results for "',e,'"']}),(0,i.jsx)(f.Z,{setOrderBy:C}),v?(0,i.jsx)(d.Z,{}):_.length>0?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:h().grid,children:_.map((function(n){return(0,i.jsx)(l.Z,{product:n},n.id)}))}),(0,i.jsx)(p.Z,{setPage:P,total:s})]}):(0,i.jsx)("p",{children:"No results."})]})}},7401:function(n,r,e){"use strict";e.d(r,{to:function(){return p},u3:function(){return f}});var t=e(1621);function i(n,r){return r||(r=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(r)}}))}function a(){var n=i(["\n  fragment ProductCard on Product {\n    brand\n    id\n    image {\n      url\n    }\n    isOnSale\n    listPrice\n    price\n    quantity\n    title\n  }\n"]);return a=function(){return n},n}function c(){var n=i(["\n  ","\n  query GetCategories($skip: Int = 0) {\n    categories(orderBy: name_ASC) {\n      icon {\n        url\n      }\n      id\n      name\n    }\n    popular: products(where: { isOnSale: false }, first: 6, skip: $skip) {\n      ...ProductCard\n    }\n    deals: products(where: { isOnSale: true }, first: 6, skip: $skip) {\n      ...ProductCard\n    }\n  }\n"]);return c=function(){return n},n}function o(){var n=i(["\n  ",'\n  query GetCategory($id: ID = "", $catId: String! = "") {\n    category(where: { id: $id }) {\n      id\n      name\n      brands\n      products(first: 10) {\n        ...ProductCard\n      }\n    }\n    productsConnection(where: { categoryId: $catId }) {\n      aggregate {\n        count\n      }\n    }\n  }\n']);return o=function(){return n},n}function s(){var n=i(["\n  ",'\n  query GetCategoryFiltered(\n    $id: String! = ""\n    $brands: [String!] = []\n    $minPrice: Float = 0\n    $maxPrice: Float = 0\n    $quantity: Int = 0\n    $isSale: Boolean = false\n    $orderBy: ProductOrderByInput\n    $skip: Int = 0\n  ) {\n    products(\n      where: {\n        categoryId: $id\n        brand_in: $brands\n        AND: [\n          { quantity_gte: $quantity }\n          { OR: [{ isOnSale: $isSale }, { isOnSale_not: false }] }\n          { price_gte: $minPrice, price_lte: $maxPrice }\n        ]\n      }\n      orderBy: $orderBy\n      first: 10\n      skip: $skip\n    ) {\n      ...ProductCard\n    }\n    productsConnection(\n      where: {\n        categoryId: $id\n        brand_in: $brands\n        AND: [\n          { quantity_gte: $quantity }\n          { OR: [{ isOnSale: $isSale }, { isOnSale_not: false }] }\n          { price_gte: $minPrice, price_lte: $maxPrice }\n        ]\n      }\n    ) {\n      aggregate {\n        count\n      }\n    }\n  }\n']);return s=function(){return n},n}function u(){var n=i(["\n  ",'\n  query GetProductByID($id: ID = "") {\n    product(where: { id: $id }) {\n      about {\n        html\n      }\n      brand\n      category {\n        ... on Category {\n          id\n          name\n          products(where: { NOT: { id: $id } }, first: 4) {\n            ...ProductCard\n          }\n        }\n      }\n      description\n      id\n      image {\n        url\n      }\n      isOnSale\n      listPrice\n      price\n      quantity\n      sellers {\n        id\n        isOfficial\n        name\n      }\n      title\n    }\n  }\n']);return u=function(){return n},n}function l(){var n=i(["\n  ",'\n  query GetSearch(\n    $query: String = ""\n    $orderBy: ProductOrderByInput\n    $skip: Int = 0\n  ) {\n    products(\n      where: { _search: $query }\n      orderBy: $orderBy\n      first: 10\n      skip: $skip\n    ) {\n      ...ProductCard\n    }\n    productsConnection(where: { _search: $query }, first: 10, skip: $skip) {\n      aggregate {\n        count\n      }\n    }\n  }\n']);return l=function(){return n},n}var d=(0,t.Ps)(a()),f=((0,t.Ps)(c(),d),(0,t.Ps)(o(),d),(0,t.Ps)(s(),d)),p=((0,t.Ps)(u(),d),(0,t.Ps)(l(),d))},5221:function(n,r,e){"use strict";function t(n,r){(null==r||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}function i(n){return function(n){if(Array.isArray(n))return t(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,r){if(!n)return;if("string"===typeof n)return t(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return t(n,r)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}e.d(r,{ED:function(){return a},Xq:function(){return o},h2:function(){return s},iJ:function(){return c},xu:function(){return u}});var a=function(n){return Intl.NumberFormat(void 0,{style:"currency",currency:"EUR"}).format(n)},c=function(n,r){return Math.round(100*Math.abs((r-n)/n))},o=function(n){var r=JSON.parse(localStorage.getItem("cart")||"[]"),e=r.findIndex((function(r){return r.product.id===n.product.id}));-1!==e?r[e].quantity+=n.quantity:r=i(r).concat([n]),localStorage.setItem("cart",JSON.stringify(r))},s=function(n){var r=JSON.parse(localStorage.getItem("cart")||"[]").filter((function(r){return r.product.id!==n}));localStorage.setItem("cart",JSON.stringify(r))},u=function(n,r){var e=JSON.parse(localStorage.getItem("cart")||"[]"),t=e.findIndex((function(r){return r.product.id===n}));-1!==t&&(e[t].quantity=r,localStorage.setItem("cart",JSON.stringify(e)))}},554:function(n){n.exports={grid:"Search_grid__Er4j0"}},8453:function(n){n.exports={card:"Card_card__xuvEK",image:"Card_image__ofF0E",info:"Card_info__ofjfT",flex:"Card_flex__OcFZ3",sale:"Card_sale__ODjp4",oldprice:"Card_oldprice__PRbPp",save:"Card_save__UXVQg",nostock:"Card_nostock__2zLWb"}},6170:function(n){n.exports={wrapper:"Loading_wrapper__LkgBA",loading:"Loading_loading__tIhnL","lds-dual-ring":"Loading_lds-dual-ring__3AUy_"}},833:function(n){n.exports={container:"OrderBy_container__yliX6",wrapper:"OrderBy_wrapper__xEDT4",orderby:"OrderBy_orderby__pYu9S"}},3259:function(n){n.exports={pagination:"Pagination_pagination__VVeVj"}}},function(n){n.O(0,[241,774,888,179],(function(){return r=5243,n(n.s=r);var r}));var r=n.O();_N_E=r}]);