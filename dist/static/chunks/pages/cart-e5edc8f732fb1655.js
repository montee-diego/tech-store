(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[190],{4476:function(t,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cart",function(){return n(1432)}])},1955:function(t,r,n){"use strict";var e=n(5893),a=n(9921),i=n.n(a);r.Z=function(t){var r=t.stock,n=t.quantity,a=t.setQuantity;return(0,e.jsxs)("div",{className:i().quantity,children:[(0,e.jsx)("input",{className:i().lbtn,type:"button",value:"-",onClick:function(){a(Math.max(1,n-1))},disabled:r<1}),(0,e.jsx)("input",{className:i().value,type:"number",name:"quantity",id:"quantity",value:n,size:3,readOnly:!0,disabled:r<1}),(0,e.jsx)("input",{className:i().rbtn,type:"button",value:"+",onClick:function(){a(Math.min(r,n+1))},disabled:r<1})]})}},1432:function(t,r,n){"use strict";n.r(r),n.d(r,{default:function(){return v}});var e=n(5893),a=n(3433),i=n(1163),c=n(2006),u=n(5221),o=n(9008),s=n.n(o),l=n(1664),d=n.n(l),f=n(7294),_=n(1955),m=n(858),p=n.n(m),h=function(t){var r=t.cartItem,n=(0,f.useState)(r.quantity),a=n[0],i=n[1],o=r.product,s=(0,f.useCallback)((function(){(0,u.xu)(o.id,a),(0,c.i)(JSON.parse(localStorage.getItem("cart")||"[]"))}),[a]);return(0,f.useEffect)((function(){s()}),[s]),(0,e.jsxs)("div",{className:p().card,children:[(0,e.jsx)("div",{className:p().image,children:(0,e.jsx)("img",{src:o.image.url,alt:o.title})}),(0,e.jsxs)("div",{className:p().container,children:[(0,e.jsx)("div",{className:p().title,children:(0,e.jsx)(d(),{href:"/product/".concat(o.id),children:(0,e.jsx)("a",{className:p().productlink,children:o.title})})}),(0,e.jsxs)("div",{className:p().info,children:[(0,e.jsxs)("div",{className:p().quantity,children:[(0,e.jsx)(_.Z,{stock:o.quantity,quantity:a,setQuantity:i}),(0,e.jsxs)("p",{children:[a,"x ",(0,u.ED)(o.price)]})]}),(0,e.jsx)("div",{className:p().subtotal,children:(0,e.jsx)("p",{children:(0,u.ED)(o.price*a)})})]})]}),(0,e.jsx)("button",{value:o.id,onClick:function(t){(0,u.h2)(t.currentTarget.value),(0,c.i)(JSON.parse(localStorage.getItem("cart")||"[]"))},className:p().remove,children:(0,e.jsx)("img",{src:"/tech-store/img/xmark-solid.svg",alt:"X"})})]})},y=n(8494),x=n.n(y),v=function(){var t=(0,i.useRouter)(),r=(0,a.l)(c.i),n=r.reduce((function(t,r){return t+r.quantity*r.product.price}),0);return(0,e.jsxs)("section",{children:[(0,e.jsx)(s(),{children:(0,e.jsx)("title",{children:"Tech Store | Cart"})}),r.length>0?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("h1",{children:"Cart"}),(0,e.jsx)("div",{className:x().products,children:r.map((function(t){return(0,e.jsx)(h,{cartItem:t},t.product.id)}))}),(0,e.jsxs)("div",{className:x().total,children:[(0,e.jsx)("span",{children:"Total: "}),(0,e.jsx)("h3",{children:(0,u.ED)(n)}),(0,e.jsx)("button",{className:x().checkout,onClick:function(r){(0,c.i)([]),localStorage.removeItem("cart"),t.push("/success")},children:"Checkout"})]})]}):(0,e.jsxs)("div",{className:x().empty,children:[(0,e.jsx)("p",{children:"Your cart is empty!"}),(0,e.jsx)(d(),{href:"/",children:(0,e.jsx)("a",{className:x().shop,children:"Go Shopping"})})]})]})}},5221:function(t,r,n){"use strict";function e(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=new Array(r);n<r;n++)e[n]=t[n];return e}function a(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,r){if(!t)return;if("string"===typeof t)return e(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e(t,r)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(r,{ED:function(){return i},Xq:function(){return u},h2:function(){return o},iJ:function(){return c},xu:function(){return s}});var i=function(t){return Intl.NumberFormat(void 0,{style:"currency",currency:"EUR"}).format(t)},c=function(t,r){return Math.round(100*Math.abs((r-t)/t))},u=function(t){var r=JSON.parse(localStorage.getItem("cart")||"[]"),n=r.findIndex((function(r){return r.product.id===t.product.id}));-1!==n?r[n].quantity+=t.quantity:r=a(r).concat([t]),localStorage.setItem("cart",JSON.stringify(r))},o=function(t){var r=JSON.parse(localStorage.getItem("cart")||"[]").filter((function(r){return r.product.id!==t}));localStorage.setItem("cart",JSON.stringify(r))},s=function(t,r){var n=JSON.parse(localStorage.getItem("cart")||"[]"),e=n.findIndex((function(r){return r.product.id===t}));-1!==e&&(n[e].quantity=r,localStorage.setItem("cart",JSON.stringify(n)))}},8494:function(t){t.exports={products:"Cart_products__wf7n7",total:"Cart_total__e1x0z",checkout:"Cart_checkout__wXOfg",empty:"Cart_empty__8Xe2B",shop:"Cart_shop__eOOKy"}},858:function(t){t.exports={card:"CartProduct_card___gOTc",image:"CartProduct_image__gc5sI",container:"CartProduct_container__4fL8R",info:"CartProduct_info__Um1zA",title:"CartProduct_title__nwW_j",productlink:"CartProduct_productlink__jt_8i",subtotal:"CartProduct_subtotal___oaq6",quantity:"CartProduct_quantity__lxuN2",remove:"CartProduct_remove__q2rho"}},9921:function(t){t.exports={quantity:"Quantity_quantity__uL94C",value:"Quantity_value__y7L4t",lbtn:"Quantity_lbtn__PGq4l",rbtn:"Quantity_rbtn__iYa1z"}},9008:function(t,r,n){t.exports=n(3121)}},function(t){t.O(0,[774,888,179],(function(){return r=4476,t(t.s=r);var r}));var r=t.O();_N_E=r}]);